!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Pool=r;var t=document.createComment(""),o=function(){return t.cloneNode(!1)},u={$p:null};r.prototype={push:function(n){var e=n.key;n.next=this[e],this[e]=n},pop:function(n){var e=this[n];return e?(this[n]=e.next,e):void 0}};var i=e.DeadPool={push:function(){},pop:function(){}},c=function(n){n.$s.r.push(n)},a=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},d=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},f=function(n,e){for(var r=n.length,t=0,o=void 0;r>t;)o=n[t++],c(o),e.removeChild(o.$n)},$=function(n,e){for(var r=n.length,t=0;r>t;)c(n[t++]);e.textContent=""},l=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},p=function(n,e,r,t,o){if(!l(e,r)){var u=O(e),i=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=u,t[o]=e,n.$$instance=e,u.xvdom=t,a(i,u),c(e)}},v=function(n,e,r,t,o){var u=n.$$instance,i=u.$p,c=u.$t,a=n.$$doRerender;n.$$doRerender=!1;var d=e.apply(void 0,[i,c,n].concat(o));return n.$$doRerender=a,u.$t=d,c!==d&&a&&p(n,u.$c(i,d,n),u,r,t),d},s=function(n,e,r,t){return function(){for(var o=arguments.length,u=Array(o),i=0;o>i;i++)u[i]=arguments[i];return v(n,e,r,t,u)}},m=function(n,e,r,t){var o={$$doRerender:!1,$$instance:t};for(var u in n)o[u]=s(o,n[u],e,r);return o},y=function(n,e,r,t){for(var o=0;r>o;)d(n,(e[o]=I(e[o])).$n,t),++o},h=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=I(e[t])).$n),++t},x=function(n,e,r,t,o,u,i,a,f){for(var $={},l=a.$n,p=void 0,v=void 0,s=void 0;f>=i;)p=r[i++],$[p.key]=p;for(;o>=t;)s=e[t],v=s.key,p=$[v],p?(p===a&&(l=l.nextSibling),$[v]=null,s=T(p,s)):s=I(s),e[t]=s,d(n,s.$n,l),++t;for(v in $)p=$[v],p&&(c(p),n.removeChild(p.$n))},k=function(n,e,r,t,o,u,i,a,f,$,l,p){if(a>$)for(;u>=t;)o=e[t],d(n,(e[t]=I(o)).$n,p),++t;else if(t>u)for(;$>=a;)f=r[a++],c(f),n.removeChild(f.$n);else x(n,e,r,t,u,f,a,l,$)},g=function(n,e,r,t,o,u){var i=0,c=0,a=!0,f=r-1,$=o-1,l=0!==r&&e[0],p=0!==o&&t[0],v=u,s=void 0,m=void 0,y=void 0;n:for(;a&&$>=i&&f>=c;){for(a=!1;p.key===l.key;){if(e[c]=T(p,l),i++,c++,i>$||c>f)break n;p=t[i],l=e[c],a=!0}for(s=t[$],m=e[f];s.key===m.key;){if(v=(e[f]=T(s,m)).$n,$--,f--,i>$||c>f)break n;s=t[$],m=e[f],a=!0}for(;p.key===m.key;){if(y=(e[f]=T(p,m)).$n,s.key!==m.key&&(v=d(n,y,v)),i++,f--,i>$||c>f)break n;p=t[i],m=e[f],a=!0}for(;s.key===l.key;){if(d(n,(e[c]=T(s,l)).$n,p.$n),$--,c++,i>$||c>f)break n;s=t[$],l=e[c],a=!0}}(f>=c||$>=i)&&k(n,e,t,c,l,f,m,i,p,$,s,v)},C=function(n,e,r){var t=n.parentNode,o=e.length,u=r.length;o?u?g(t,e,o,r,u,n):y(t,e,o,n):f(r,t)},b=function(n,e,r){var t=e.length,o=r.length;t?o?g(n,e,t,r,o,null):h(n,e,t):$(r,n)},N=function(n,e,r,t,o,u,i){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:D(n,e,null,t,o,u,i),e},D=function(n,e,r,t,o,u,i){return a(t,_(n,t.parentNode,e,o,u,i)),e},P=function(n,e,r,t,o,u,i){return e&&l(e,r)?r:D(n,e,null,t,o,u,i)},j=function(n,e,r,t,o,u,i,c){var a=t.$a.onProps;t.$p=e,a?a():p(t.$a,t.$c(e,t,t.$a),t,u,c)},R=function(n,e,r,t,o,u,i,c){var d=n(e||{});l(d,t)||a(o,u[i]=(u[c]=I(d)).$n)},A=function(n,e,r,t,o,u,i){return e instanceof Array?n?b(t,e,r):C(t,e,r):n?($(r,t),t.appendChild(_(!0,t,e,o,u,i))):(f(r,t.parentNode),D(!1,e,null,t,o,u,i)),e},S=function(n,e,r,t,o,i){u.$p=e;var c=n.state,a=m(c,r,i,u),d=c.onInit(e||{},void 0,a);a.$$doRerender=!0;var f=n(e,d,a),$=O(f);return a.$$instance=f,f.$c=n,f.$t=d,f.$a=a,f.$p=e,r[t]=j,r[i]=f,r[o]=$,$},_=e.createDynamic=function(n,e,r,t,u,i){var c=void 0,a=void 0,d=void 0,f=void 0;return null==r||(f=r.constructor)===Boolean?(d=D,a=c=o()):f===Object?(d=P,a=c=O(r)):f===String||f===Number?(d=N,a=c=document.createTextNode(r)):f===Array&&(c=document.createDocumentFragment(),h(c,r,r.length),d=A,a=n?e:c.appendChild(o())),t[u]=d,t[i]=a,c},B=e.createComponent=function(n,e,r,t,o,u){if(n.state)return S(n,e,r,t,o,u);var i=n(e||{}),c=O(i);return r[t]=R,r[u]=i,r[o]=c,c},I=function(n){var e=n.$s,r=e.r.pop(n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},O=e.render=function(n){return I(n).$n},T=function(n,e){return l(e,n)?n:(e=I(e),a(n.$n,e.$n),c(n),e)},V=e.rerender=function(n,e){return T(n.xvdom,e).$n},F=e.unmount=function(n){n.xvdom&&c(n.xvdom),n.parentNode&&n.parentNode.removeChild(n)};e["default"]={createDynamic:_,createComponent:B,render:O,rerender:V,unmount:F,Pool:r,DeadPool:i};e._={rerenderText:N,rerenderInstance:P,rerenderDynamic:D,rerenderArray:A}}])});
