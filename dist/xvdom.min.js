!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Pool=r;var t={$p:null},o=document.createComment(""),u=e.DEADPOOL={push:function(){},pop:function(){}};r.prototype={push:function(n){var e=n.key;n.next=this[e],this[e]=n},pop:function(n){var e=this[n];return e?(this[n]=e.next,e):void 0}};var i=function(n){n.$s.r.push(n)},c=function(){return o.cloneNode(!1)},a=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},f=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},d=function(n,e){for(var r=n.length,t=0,o=void 0;r>t;)o=n[t++],i(o),e.removeChild(o.$n)},$=function(n,e){for(var r=n.length,t=0;r>t;)i(n[t++]);e.textContent=""},p=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},v=function(n,e,r,t,o){if(!p(e,r)){var u=E(e),c=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=u,t[o]=e,n.$$instance=e,u.xvdom=t,a(c,u),i(e)}},l=function(n,e,r,t,o){var u=n.$$instance,i=u.$p,c=u.$t,a=n.$$doRerender;n.$$doRerender=!1;var f=e.apply(void 0,[i,c,n].concat(o));return n.$$doRerender=a,u.$t=f,c!==f&&a&&v(n,u.$c(i,f,n),u,r,t),f},s=function(n,e,r,t){return function(){for(var o=arguments.length,u=Array(o),i=0;o>i;i++)u[i]=arguments[i];return l(n,e,r,t,u)}},m=function(n,e,r){var o={$$doRerender:!1,$$instance:t};for(var u in n)o[u]=s(o,n[u],e,r);return o},y=function(n,e,r,t){for(var o=0;r>o;)f(n,(e[o]=B(e[o])).$n,t),++o},h=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=B(e[t])).$n),++t},x=function(n,e,r,t,o,u,c,a,d){for(var $={},p=a.$n,v=void 0,l=void 0,s=void 0;d>=c;)v=r[c++],$[v.key]=v;for(;o>=t;)s=e[t],l=s.key,v=$[l],v?(v===a&&(p=p.nextSibling),$[l]=null,s=I(v,s)):s=B(s),e[t]=s,f(n,s.$n,p),++t;for(l in $)v=$[l],v&&(i(v),n.removeChild(v.$n))},k=function(n,e,r,t,o,u,c,a,d,$,p,v){if(a>$)for(;u>=t;)o=e[t],f(n,(e[t]=B(o)).$n,v),++t;else if(t>u)for(;$>=a;)d=r[a++],i(d),n.removeChild(d.$n);else x(n,e,r,t,u,d,a,p,$)},g=function(n,e,r,t,o,u){var i=0,c=0,a=!0,d=r-1,$=o-1,p=0!==r&&e[0],v=0!==o&&t[0],l=u,s=void 0,m=void 0,y=void 0;n:for(;a&&$>=i&&d>=c;){for(a=!1;v.key===p.key;){if(e[c]=I(v,p),i++,c++,i>$||c>d)break n;v=t[i],p=e[c],a=!0}for(s=t[$],m=e[d];s.key===m.key;){if(l=(e[d]=I(s,m)).$n,$--,d--,i>$||c>d)break n;s=t[$],m=e[d],a=!0}for(;v.key===m.key;){if(y=(e[d]=I(v,m)).$n,s.key!==m.key&&(l=f(n,y,l)),i++,d--,i>$||c>d)break n;v=t[i],m=e[d],a=!0}for(;s.key===p.key;){if(f(n,(e[c]=I(s,p)).$n,v.$n),$--,c++,i>$||c>d)break n;s=t[$],p=e[c],a=!0}}(d>=c||$>=i)&&k(n,e,t,c,p,d,m,i,v,$,s,l)},C=function(n,e,r){var t=n.parentNode,o=e.length,u=r.length;o?u?g(t,e,o,r,u,n):y(t,e,o,n):d(r,t)},b=function(n,e,r){var t=e.length,o=r.length;t?o?g(n,e,t,r,o,null):h(n,e,t):$(r,n)},N=function(n,e,r,t,o,u,i){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:D(n,e,null,t,o,u,i),e},D=function(n,e,r,t,o,u,i){return a(t,S(n,t.parentNode,e,o,u,i)),e},A=function(n,e,r,t,o,u,i){return e&&p(e,r)?r:D(n,e,null,t,o,u,i)},O=function(n,e,r,t,o,u,i,c){var a=t.$a.onProps;t.$p=e,a?a():v(t.$a,t.$c(e,t,t.$a),t,u,c)},P=function(n,e,r,t,o,u,i,c){var f=n(e||{});p(f,t)||a(o,u[i]=(u[c]=B(f)).$n)},j=function(n,e,r,t,o,u,i){return e instanceof Array?n?b(t,e,r):C(t,e,r):n?($(r,t),t.appendChild(S(!0,t,e,o,u,i))):(d(r,t.parentNode),D(!1,e,null,t,o,u,i)),e},R=function(n,e,r,o,u,i){t.$p=e;var c=n.state,a=m(c,r,i),f=c.onInit(e||{},void 0,a);a.$$doRerender=!0;var d=n(e,f,a),$=E(d);return a.$$instance=d,d.$c=n,d.$t=f,d.$a=a,d.$p=e,r[o]=O,r[i]=d,r[u]=$,$},S=e.createDynamic=function(n,e,r,t,o,u){var i=void 0,a=void 0,f=void 0,d=void 0;return null==r||(d=r.constructor)===Boolean?(f=D,a=i=c()):d===Object?(f=A,a=i=E(r)):d===String||d===Number?(f=N,a=i=document.createTextNode(r)):d===Array&&(i=document.createDocumentFragment(),h(i,r,r.length),f=j,a=n?e:i.appendChild(c())),t[o]=f,t[u]=a,i},_=e.createComponent=function(n,e,r,t,o,u){if(n.state)return R(n,e,r,t,o,u);var i=n(e||{}),c=E(i);return r[t]=P,r[u]=i,r[o]=c,c},B=function(n){var e=n.$s,r=e.r.pop(n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},E=e.render=function(n){return B(n).$n},I=function(n,e){return p(e,n)?n:(e=B(e),a(n.$n,e.$n),i(n),e)},L=e.rerender=function(n,e){return I(n.xvdom,e).$n},T=e.unmount=function(n){n.xvdom&&i(n.xvdom),n.parentNode&&n.parentNode.removeChild(n)};e["default"]={createDynamic:S,createComponent:_,render:E,rerender:L,unmount:T,Pool:r,DEADPOOL:u};e._={rerenderText:N,rerenderInstance:A,rerenderDynamic:D,rerenderArray:j}}])});
