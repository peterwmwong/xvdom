!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";e.__esModule=!0;var r={$p:null},t={},o=document.createComment(""),u=e.DEADPOOL={push:function(){},pop:function(){}},i=e.Pool=function(){var n=new Map;return{push:function(e){var r=e.key;e.$x=n.get(r),n.set(r,e)},pop:function(e){var r=n.get(e);return r?(n.set(e,r.$x),r):void 0}}},c=function(n){n.$s.r.push(n)},a=function(){return o.cloneNode(!1)},f=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},d=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},$=function(n,e){c(n),e.removeChild(n.$n)},p=function(n,e){for(var r=n.length,t=0;r>t;)$(n[t++],e)},v=function(n,e){for(var r=n.length,t=0;r>t;)c(n[t++]);e.textContent=""},l=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},s=function(n,e,r,t,o){if(!l(e,r)){var u=I(e),i=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=u,t[o]=e,n.$$instance=e,u.xvdom=t,f(i,u),c(e)}},m=function(n,e,r,t,o){var u=n.$$instance,i=n.$$doRerender,c=u.$p,a=u.$t;n.$$doRerender=!1;var f=u.$t=e.apply(void 0,[c,a,n].concat(o));return n.$$doRerender=i,a!==f&&i&&s(n,u.$c(c,f,n),u,r,t),f},y=function(n,e,r,t){return function(){for(var o=arguments.length,u=Array(o),i=0;o>i;i++)u[i]=arguments[i];return m(n,e,r,t,u)}},x=function(n,e,t){var o={$$doRerender:!1,$$instance:r};for(var u in n)o[u]=y(o,n[u],e,t);return o},h=function(n,e,r,t){for(var o=0;r>o;)d(n,(e[o]=B(e[o])).$n,t),++o},k=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=B(e[t])).$n),++t},g=function(n,e,r,t,o,u,i,c,a){for(var f=new Map,p=c.$n,v=void 0,l=void 0,s=void 0;a>=i;)v=r[i++],f.set(v.key,v);for(;o>=t;)s=e[t],l=s.key,v=f.get(l),v?(v===c&&(p=p.nextSibling),f["delete"](l),s=L(v,s)):s=B(s),e[t]=s,d(n,s.$n,p),++t;f.forEach(function(e){$(e,n)})},b=function(n,e,r,t,o,u,i,c,a,f,p,v){if(c>f)for(;u>=t;)o=e[t],d(n,(e[t]=B(o)).$n,v),++t;else if(t>u)for(;f>=c;)$(r[c++],n);else g(n,e,r,t,u,a,c,p,f)},C=function(n,e,r,t,o,u){var i=0,c=0,a=!0,f=e[0],$=t[0],p=u,v=void 0,l=void 0,s=void 0;r--,o--;n:for(;a&&o>=i&&r>=c;){for(a=!1;$.key===f.key;){if(e[c]=L($,f),i++,c++,i>o||c>r)break n;$=t[i],f=e[c],a=!0}for(v=t[o],l=e[r];v.key===l.key;){if(p=(e[r]=L(v,l)).$n,o--,r--,i>o||c>r)break n;v=t[o],l=e[r],a=!0}for(;$.key===l.key;){if(s=(e[r]=L($,l)).$n,v.key!==l.key&&(p=d(n,s,p)),i++,r--,i>o||c>r)break n;$=t[i],l=e[r],a=!0}for(;v.key===f.key;){if(d(n,(e[c]=L(v,f)).$n,$.$n),o--,c++,i>o||c>r)break n;v=t[o],f=e[c],a=!0}}(r>=c||o>=i)&&b(n,e,t,c,f,r,l,i,$,o,v,p)},N=function(n,e,r){var t=n.parentNode,o=e.length,u=r.length;o?u?C(t,e,o,r,u,n):h(t,e,o,n):p(r,t)},D=function(n,e,r){var t=e.length,o=r.length;t?o?C(n,e,t,r,o,null):k(n,e,t):v(r,n)},A=function(n,e,r,t,o,u,i){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:O(n,e,null,t,o,u,i),e},O=function(n,e,r,t,o,u,i){return f(t,M(n,t.parentNode,e,o,u,i)),e},P=function(n,e,r,t,o,u,i){return e&&l(e,r)?r:O(n,e,null,t,o,u,i)},R=function(n,e,r,t,o,u,i,c){var a=t.$a,f=a.onProps;t.$p=e,f?f():s(a,t.$c(e,t.$t,a),t,u,c)},j=function(n,e,r,o,u,i,c,a){var d=n(e||t);l(d,o)||f(u,i[c]=(i[a]=B(d)).$n)},S=function(n,e,r,t,o,u,i){return e instanceof Array?n?D(t,e,r):N(t,e,r):n?(v(r,t),t.appendChild(M(!0,t,e,o,u,i))):(p(r,t.parentNode),O(!1,e,null,t,o,u,i)),e},E=function(n,e,t,o,u,i){r.$p=e;var c=n.state,a=x(c,t,i),f=c.onInit(e,void 0,a);a.$$doRerender=!0;var d=n(e,f,a),$=I(d);return a.$$instance=d,d.$c=n,d.$t=f,d.$a=a,d.$p=e,t[o]=R,t[i]=d,t[u]=$,$},M=e.createDynamic=function(n,e,r,t,o,u){var i=void 0,c=void 0,f=void 0,d=void 0;return null==r||(d=r.constructor)===Boolean?(f=O,c=i=a()):d===Object?(f=P,c=i=I(r)):d===String||d===Number?(f=A,c=i=document.createTextNode(r)):d===Array&&(i=document.createDocumentFragment(),k(i,r,r.length),f=S,c=n?e:i.appendChild(a())),t[o]=f,t[u]=c,i},_=e.createNoStateComponent=function(n,e,r,t,o,u){var i=n(e),c=I(i);return r[t]=j,r[u]=i,r[o]=c,c},w=e.createComponent=function(n,e,r,o,u,i){var c=n.state?E:_;return c(n,e||t,r,o,u,i)},B=function(n){var e=n.$s,r=e.r.pop(n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},I=e.render=function(n){return B(n).$n},L=function(n,e){return l(e,n)?n:(e=B(e),f(n.$n,e.$n),c(n),e)},T=e.rerender=function(n,e){return L(n.xvdom,e).$n},V=e.unmount=function(n){$(n.xvdom,n.parentNode)};e["default"]={createDynamic:M,createComponent:w,render:I,rerender:T,unmount:V,Pool:i,DEADPOOL:u};e._={rerenderText:A,rerenderInstance:P,rerenderDynamic:O,rerenderArray:S}}])});
