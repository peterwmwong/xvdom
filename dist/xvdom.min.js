!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xvdom=t():n.xvdom=t()}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(n,t){"use strict";function e(n){return n instanceof Object?n instanceof Array?"array":"object":null==n||n===!0||n===!1?"empty":"text"}function r(){}function o(){this.map=new r}function u(n,t,r){return T[e(r)](r,t,n)}t.__esModule=!0,r.prototype=Object.create(null);var c=new r,i=t.DEADPOOL={push:function(){},pop:function(){}};o.prototype.push=function(n){var t=n.key,e=this.map;n.$x=e[t],e[t]=n},o.prototype.pop=function(n){var t=this.map[n];if(t)return this.map[n]=t.$x,t};var a=function(n){n.$s.r.push(n)},f=function(n){return document.createTextNode(n)},p=function(){return f("")},d=function(n,t){var e=n.parentNode;e&&e.replaceChild(t,n)},s=function(n,t){a(n),t.removeChild(n.$n)},l=function(n,t,e){for(;e<n.length;)s(n[e++],t)},m=function(n,t){for(var e=0;e<n.length;)a(n[e++]);t.textContent=""},v=function(n,t){return t.$s===n.$s&&(n.$s.u(n,t),!0)},x=function(n,t,e,r){null==r?y(n,t,e):h(n,t,e,r)},h=function(n,t,e,r){for(;e<t.length;)n.insertBefore((t[e]=S(t[e])).$n,r),++e},y=function(n,t,e){for(;e<t.length;)n.appendChild((t[e]=S(t[e])).$n),++e},$=function(n,t,e,r,o,u){var c=0,i=0;do t[i]=V(r[c],t[i]),++i,++c;while(o>c&&e>i);e>i?x(n,t,i,u):l(r,n,c)},C=function(n,t,e){var r=n.parentNode,o=t.length,u=e.length;o?u?$(r,t,o,e,u,n):x(r,t,0,n):l(e,r,0)},b=function(n,t,e){var r=t.length,o=e.length;r?o?$(n,t,r,e,o,null):y(n,t,0):m(e,n)},_=function(n,t,e){return n instanceof Object?g(e,n,t):(t.nodeValue=null==n||n===!0||n===!1?"":n,t)},g=function(n,t,e){var r=u(n,e.parentNode,t);return d(e,r),r},j=function(n,t,e,r){var o=void 0;return n&&v(n,o=r.$r||r)?(n.$r=o,t):g(e,n,t)},D=function(n,t,e,r,o){var u=n(t||c);v(u,e)||d(e.$n,(r[o]=S(u)).$n)},N=function(n,t,e,r){var o=t.xvdomContext;return n instanceof Array?(e?b(o,n,r):C(o,n,r),t):e?(m(r,o),o.appendChild(u(!0,o,n))):(l(r,o.parentNode,0),g(!1,n,o))},O=function(n,t,e){var r=e._onProps,o=e.props;e.props=t,r?w(n,e,r,o):A(n,e)},P=function(n,t,e){var r=document.createDocumentFragment();return y(r,n,0),r.xvdomContext=e?t:r.appendChild(f("")),r},A=function(n,t){var e=V(t._instance,n(t));t._instance=e,e.$n.xvdom=t._parentInst},w=function(n,t,e,r){if(e){var o=e(t,r);o!==t.state&&(t.state=o,A(n,t))}},I=function(n,t,e,o,u,c){var i=new r,a={_onProps:c.onProps,_parentInst:e,props:t,bindSend:function(t){return i[t]||(i[t]=function(e){w(n,a,c[t],e)})}};return a.state=c.onInit(a),e[o]=O,e[u]=a,L(a._instance=n(a))},E=t.createNoStateComponent=function(n,t,e,r,o){return e[r]=D,L(e[o]=n(t))},k=t.createComponent=function(n,t,e,r,o,u){var i=t?I:E;return i(n,e||c,r,o,u,t)},L=function(n){var t=n.$s.c(n);return n.$n=t,t.xvdom=n,t},S=function(n){var t=n.$s,e=t.r.pop(n.key);return e?(t.u(n,e),e):(L(n),n)},T={text:f,object:L,array:P,empty:p},B={text:_,object:j,array:N,empty:_},F=function(n,t,r,o){return B[e(t)](r,o,n,t)},M=t.render=function(n){return S(n).$n},V=function(n,t){return v(t,n)?n:(t=S(t),d(n.$n,t.$n),a(n),t)},q=t.rerender=function(n,t){return V(n.xvdom,t).$n},z=t.unmount=function(n){s(n.xvdom,n.parentNode)};t["default"]={createComponent:k,createDynamic:u,el:function(n){return document.createElement(n)},render:M,rerender:q,unmount:z,updateDynamic:F,Pool:o,DEADPOOL:i};t._={rerenderText:_,rerenderInstance:j,rerenderDynamic:g,rerenderArray:N}}])});
