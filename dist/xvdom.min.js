!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.xvdom=n():e.xvdom=n()}(this,function(){return function(e){function n(o){if(r[o])return r[o].exports;var t=r[o]={exports:{},id:o,loaded:!1};return e[o].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){e.exports=r(1)},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="",o={},t={$p:null},i=function(e,n){var r=e.parentNode;r&&r.replaceChild(n,e)},u=function(e){var n=e.$s.recycled;n&&n.push(e)},c=function(e,n,r){return r?e.insertBefore(n,r):e.appendChild(n)},d=function(e,n){for(var r=void 0;r=e.pop();)u(r),n.removeChild(r.$n)},a=function(e,n){return n.$s===e.$s&&(e.$s.u(e,n),!0)},f=function(e,n,r,o,t){if(!a(n,r)){var c=S(n),d=o.$n;n.$c=r.$c,n.$t=r.$t,n.$p=r.$p,n.$a=e,o.$n=c,o[t]=n,e.$$instance=n,c.xvdom=o,i(d,c),u(n)}},$=function(e,n,r,o,t){var i=e.$$instance,u=i.$p,c=i.$t,d=e.$$doRerender;e.$$doRerender=!1;var a=n.apply(void 0,[u,c,e].concat(t));return e.$$doRerender=d,i.$t=a,c!==a&&d&&f(e,i.$c(u,a,e),i,r,o),a},v=function(e,n,r,o){return function(){for(var t=arguments.length,i=Array(t),u=0;t>u;u++)i[u]=arguments[u];return $(e,n,r,o,i)}},p=function(e,n,r,o){var t={$$doRerender:!1,$$instance:o};for(var i in e)t[i]=v(t,e[i],n,r);return t},l=function(e,n,r,o){for(var t=0,i=void 0;r>t;)i=n[t++],c(e,i.$n=S(i),o)},s=function(e,n,r,o,t,i,d,a,f){for(var $={},v=a.$n,p=void 0,l=void 0,s=void 0,m=void 0;f>=d;)p=r[d++],$[p.key]=p;for(;t>=o;)m=n[o],l=m.key,p=$[l],p?(p===a&&(v=v.nextSibling),$[l]=null,s=(n[o]=_(p,m)).$n):s=S(m),c(e,s,v),++o;for(l in $)p=$[l],p&&(u(p),e.removeChild(p.$n))},m=function(e,n,r,o,t,i,d,a,f,$,v,p){if(a>$)for(;i>=o;)t=n[o],c(e,(n[o]=T(t)).$n,p),++o;else if(o>i)for(;$>=a;)f=r[a++],u(f),e.removeChild(f.$n);else s(e,n,r,o,i,f,a,v,$)},y=function(e,n,r,o,t,i){var u=0,d=0,a=!0,f=r-1,$=t-1,v=0!==r&&n[0],p=0!==t&&o[0],l=i,s=void 0,y=void 0,x=void 0;e:for(;a&&$>=u&&f>=d;){for(a=!1;p.key===v.key;){if(n[d]=_(p,v),u++,d++,u>$||d>f)break e;p=o[u],v=n[d],a=!0}for(s=o[$],y=n[f];s.key===y.key;){if(l=(n[f]=_(s,y)).$n,$--,f--,u>$||d>f)break e;s=o[$],y=n[f],a=!0}for(;p.key===y.key;){if(x=(n[f]=_(p,y)).$n,s.key!==y.key&&(l=c(e,x,l)),u++,f--,u>$||d>f)break e;p=o[u],y=n[f],a=!0}for(;s.key===v.key;){if(c(e,_(s,v).$n,p.$n),n[d]=s,$--,d++,u>$||d>f)break e;s=o[$],v=n[d],a=!0}}(f>=d||$>=u)&&m(e,n,o,d,v,f,y,u,p,$,s,l)},x=function(e,n,r,o,t,i,u){var c=n.length,a=r.length;c?a?y(e,n,c,r,a,o):l(e,n,c,o):d(r,e)},k=function(e,n){for(var o=n.length,t=0,i=void 0;o>t;)i=n[t++],e.appendChild(i.$n=S(i));return e.appendChild(document.createTextNode(r))},h=function(e,n,o,t,i,u){return null==e?o.nodeValue=r:e.constructor===String||e.constructor===Number?o.nodeValue=e:b(e,n,o,t,i,u),e},b=function(e,n,r,o,t,u){return i(r,R(e,o,t,u)),e},g=function(e,n,r,o,t,i){return e&&a(e,n)?n:b(e,n,r,o,t,i)},C=function(e,n,r,o,t,i,u,c){var d=o.$a.onProps;o.$p=n,d?d():f(o.$a,o.$c(n,o,o.$a),o,i,c)},N=function(e,n,r,t,u,c,d,f){var $=e(n||o);if(!a($,t)){var v=S($);c[f]=$,c[d]=v,v.xvdom=c,i(u,v)}},j=function(e,n,r,o,t,i){var u=r.parentNode;return e instanceof Array?x(u,e,n,r):(d(n,u),b(e,void 0,r,o,t,i)),e},A=function(e,n,r,i,u,c){t.$p=n;var d=e.state,a=p(d,r,c,t),f=d.onInit(n||o,void 0,a);a.$$doRerender=!0;var $=e(n,f,a),v=S($);return a.$$instance=$,$.$c=e,$.$t=f,$.$a=a,$.$p=n,r[i]=C,r[c]=$,r[u]=v,v},R=n.createDynamic=function(e,n,o,t){var i=void 0,u=void 0,c=void 0,d=void 0;return null==e||(d=e.constructor)===Boolean?(n[o]=b,n[t]=document.createTextNode(r)):(d===Object?(c=g,u=i=S(e)):d===String||d===Number?(c=h,u=i=document.createTextNode(e)):d===Array&&(c=j,i=document.createDocumentFragment(),u=k(i,e)),n[o]=c,n[t]=u,i)},D=n.createComponent=function(e,n,r,t,i,u){if(e.state)return A(e,n,r,t,i,u);var c=e(n||o),d=S(c);return r[t]=N,r[u]=c,r[i]=d,d},T=function(e){var n=e.$s,r=n.recycled&&n.recycled.pop();return r?(n.u(e,r),r):((e.$n=n.c(e)).xvdom=e,e)},S=n.render=function(e){return T(e).$n},_=function(e,n){return a(n,e)?e:(i(e.$n,S(n)),u(e),n)},B=n.rerender=function(e,n){return _(e.xvdom,n).$n},I=n.unmount=function(e){e.xvdom&&u(e.xvdom),e.parentNode&&e.parentNode.removeChild(e)};n["default"]={createDynamic:R,createComponent:D,render:S,rerender:B,unmount:I};n._={renderArray:k,rerenderText:h,rerenderInstance:g,rerenderDynamic:b,rerenderArray:j}}])});
