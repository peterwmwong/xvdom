var xvdom=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}exports.__esModule=!0;var _renderJs=__webpack_require__(2),xvdom=_interopRequireWildcard(_renderJs);exports["default"]=xvdom,window.xvdom=xvdom,module.exports=exports["default"]},function(module,exports){"use strict";function recycle(stash,node){stash&&stash.push(node)}function removeArrayNodes(list,parentNode){for(var item=void 0,node=void 0;item=list.pop();)recycle(item.spec.recycled,node=item._node),parentNode.removeChild(node)}function arePropsDifferent(a,b){var keyCount=0;for(var prop in a){if(a[prop]!==b[prop])return!0;keyCount++}return keyCount!==Object.keys(b).length}function renderArray(frag,array){for(var length=array.length,item=void 0,i=0;length>i;++i)item=array[i],frag.appendChild(item._node=renderInstance(item));return frag.appendChild(document.createTextNode(EMPTY_STRING))}function rerenderText(value,oldValue,contextNode,instance,rerenderFuncProp,rerenderContextNode){return null==value||value.constructor===String?void(contextNode.nodeValue=value||EMPTY_STRING):void rerenderDynamic(value,oldValue,contextNode,instance,rerenderFuncProp,rerenderContextNode)}function rerenderDynamic(value,oldValue,contextNode,instance,rerenderFuncProp,rerenderContextNode){contextNode.parentNode.replaceChild(createDynamic(value,instance,rerenderFuncProp,rerenderContextNode),contextNode)}function rerenderInstance(value,prevValue,node,instance,rerenderFuncProp,rerenderContextNode){var prevSpec=prevValue.spec;return prevSpec===(value&&value.spec)?void prevSpec.rerender(value,prevValue):void rerenderDynamic(value,prevValue,node,instance,rerenderFuncProp,rerenderContextNode)}function rerenderStatefulComponent(component,props,prevProps,componentInstance,node,instance,rerenderContextNode,componentInstanceProp){}function rerenderComponent(component,props,prevProps,componentInstance,node,instance,rerenderContextNode,componentInstanceProp){arePropsDifferent(props,prevProps)&&(instance[rerenderContextNode]=rerender(node,instance[componentInstanceProp]=component(props||EMPTY_OBJECT)))}function renderInstance(instance){var spec=instance.spec,node=spec.recycled&&spec.recycled.pop();return node?(spec.rerender(instance,node.xvdom),node):(node=spec.render(instance),node.xvdom=instance,node)}function rerenderArray(list,oldList,markerNode,valuesAndContext,rerenderFuncProp,rerenderContextNode){var parentNode=markerNode.parentNode;if(!list||list.constructor!==Array)return removeArrayNodes(oldList,parentNode),void rerenderDynamic(list,oldList,markerNode,valuesAndContext,rerenderFuncProp,rerenderContextNode);var length=list.length,oldLength=oldList.length,i=void 0,node=void 0,value=void 0,insertBeforeNode=void 0;if(0===length)return void removeArrayNodes(oldList,parentNode);if(0!==oldLength){var oldEndIndex=oldLength-1,endIndex=length-1,oldStartIndex=0,startIndex=0,successful=!0,oldStartItem=void 0,oldEndItem=void 0,startItem=void 0,endItem=void 0,nextItem=void 0;outer:for(;successful&&oldEndIndex>=oldStartIndex&&endIndex>=startIndex;){for(successful=!1,oldStartItem=oldList[oldStartIndex],startItem=list[startIndex];oldStartItem.key===startItem.key;){if(node=oldStartItem._node,startItem._node=rerender(node,startItem),oldStartIndex++,startIndex++,oldStartIndex>oldEndIndex||startIndex>endIndex)break outer;oldStartItem=oldList[oldStartIndex],startItem=list[startIndex],successful=!0}for(oldEndItem=oldList[oldEndIndex],endItem=list[endIndex];oldEndItem.key===endItem.key;){if(node=oldEndItem._node,endItem._node=rerender(node,endItem),oldEndIndex--,endIndex--,oldStartIndex>oldEndIndex||startIndex>endIndex)break outer;oldEndItem=oldList[oldEndIndex],endItem=list[endIndex],successful=!0}for(;oldStartItem.key===endItem.key;){if(nextItem=length>endIndex+1?list[endIndex+1]._node:markerNode,node=oldStartItem._node,endItem._node=node=rerender(node,endItem),oldEndItem.key!==endItem.key&&parentNode.insertBefore(node,nextItem),oldStartIndex++,endIndex--,oldStartIndex>oldEndIndex||startIndex>endIndex)break outer;oldStartItem=oldList[oldStartIndex],endItem=list[endIndex],successful=!0}for(;oldEndItem.key===startItem.key;){if(node=oldEndItem._node,startItem._node=node=rerender(node,startItem),nextItem=oldStartItem._node,oldStartItem.key!==startItem.key&&(nextItem?parentNode.insertBefore(node,nextItem):parentNode.appendChild(node)),oldEndIndex--,startIndex++,oldStartIndex>oldEndIndex||startIndex>endIndex)break outer;oldEndItem=oldList[oldEndIndex],startItem=list[startIndex],successful=!0}}if(oldStartIndex>oldEndIndex)for(insertBeforeNode=endItem?endItem._node:markerNode;endIndex>=startIndex;)startItem=list[startIndex++],startItem._node=node=renderInstance(startItem),parentNode.insertBefore(node,insertBeforeNode);else if(startIndex>endIndex)for(;oldEndIndex>=oldStartIndex;)oldStartItem=oldList[oldStartIndex++],recycle(oldStartItem.spec.recycled,node=oldStartItem._node),parentNode.removeChild(node);else{var oldListNodeKeyMap={},saveItem=oldStartItem,item=void 0,prevItem=void 0;for(i=oldStartIndex,oldEndIndex>=i&&(item=oldList[i++],oldListNodeKeyMap[item.key]=prevItem=item);oldEndIndex>=i;)prevItem.next=item=oldList[i++],oldListNodeKeyMap[item.key]=prevItem=item;for(;endIndex>=startIndex;)startItem=list[startIndex++],item=oldListNodeKeyMap[startItem.key],item?(node=rerender(item._node,startItem),item._node=null):node=renderInstance(startItem),startItem._node=node,parentNode.insertBefore(node,markerNode);for(;saveItem;)node=saveItem._node,node&&(recycle(saveItem.spec.recycled,node),parentNode.removeChild(node)),saveItem=saveItem.next}}else for(i=0;length>i;)value=list[i++],value._node=node=renderInstance(value),parentNode.insertBefore(node,markerNode)}function rerender(node,instance){var prevInstance=node.xvdom,spec=instance.spec;if(spec===prevInstance.spec)return spec.rerender(instance,prevInstance),node;var newNode=renderInstance(instance);return node.parentNode.replaceChild(newNode,node),recycle(prevInstance.spec.recycled,node),newNode}function bindActions(stateActions,componentInstance){for(var sa in stateActions)stateActions[sa].instance=componentInstance}function preBoundStateActions(stateActions){var result={};for(var sa in stateActions)result[sa]=function(action){return function wrapAction(){for(var inst=wrapAction.instance,_len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];var newState=action.apply(void 0,[inst.props,inst.state].concat(args));inst.state!==newState&&(inst.state=newState,rerender(inst._node,inst.component.render(inst.props,newState,stateActions)))}}(stateActions[sa]);return result}function createComponent(component,props,instance,rerenderFuncProp,rerenderContextNode,componentInstanceProp){if("function"!=typeof component)return createStatefulComponent(component,props,instance,rerenderFuncProp,rerenderContextNode,componentInstanceProp);var inst=component(props),node=renderInstance(inst);return instance[rerenderFuncProp]=rerenderComponent,instance[componentInstanceProp]=inst,instance[rerenderContextNode]=node,node}function createStatefulComponent(component,props,instance,rerenderFuncProp,rerenderContextNode,componentInstanceProp,componentStateProp,componentStateActionsProp){var state=component.state.init(props),actions=preBoundStateActions(component.state),inst=component.render(props,state,actions);inst.props=props,inst.component=component,inst.state=state,inst.actions=actions,bindActions(actions,inst);var node=renderInstance(inst);return inst._node=node,instance[rerenderFuncProp]=rerenderStatefulComponent,instance[rerenderContextNode]=node,instance[componentInstanceProp]=inst,node}function createDynamic(value,instance,rerenderFuncProp,rerenderContextNode){value=value||EMPTY_STRING;var valueConstructor=value.constructor,node=void 0,context=void 0,rerenderFunc=void 0;return valueConstructor===Object?(rerenderFunc=rerenderInstance,context=node=renderInstance(value)):valueConstructor===String?(rerenderFunc=rerenderText,context=node=document.createTextNode(value)):valueConstructor===Array&&(rerenderFunc=rerenderArray,node=document.createDocumentFragment(),context=renderArray(node,value)),instance[rerenderFuncProp]=rerenderFunc,instance[rerenderContextNode]=context,node}function unmount(node){node.xvdom&&recycle(node.xvdom.spec.recycled,node),node.parentNode&&node.parentNode.removeChild(node)}exports.__esModule=!0,exports.renderArray=renderArray,exports.rerenderText=rerenderText,exports.rerenderDynamic=rerenderDynamic,exports.rerenderInstance=rerenderInstance,exports.rerenderStatefulComponent=rerenderStatefulComponent,exports.rerenderComponent=rerenderComponent,exports.renderInstance=renderInstance,exports.rerenderArray=rerenderArray,exports.rerender=rerender,exports.createComponent=createComponent,exports.createStatefulComponent=createStatefulComponent,exports.createDynamic=createDynamic,exports.unmount=unmount;var EMPTY_STRING="",EMPTY_OBJECT={}}]);
