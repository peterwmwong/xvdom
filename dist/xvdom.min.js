!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.xvdom=n():e.xvdom=n()}(this,function(){return function(e){function n(o){if(r[o])return r[o].exports;var t=r[o]={exports:{},id:o,loaded:!1};return e[o].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){e.exports=r(1)},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="",o={},t={$p:null},c=function(e,n){var r=e.parentNode;r&&r.replaceChild(n,e)},i=function(e,n){e&&e.push(n)},d=function(e,n,r){return r?e.insertBefore(n,r):e.appendChild(n)},u=function(e,n){for(var r=void 0,o=void 0;r=e.pop();)i(r.$s.recycled,o=r.$n),n.removeChild(o)},a=function(e,n){return n.$s===e.$s&&(e.$s.u(e,n),!0)},$=function(e,n,r,o,t){if(!a(n,r)){var d=T(n),u=o.$n;n.$c=r.$c,n.$t=r.$t,n.$p=r.$p,n.$a=e,o.$n=d,o[t]=n,e.$$instance=n,d.xvdom=o,c(u,d),i(n.$s.recycled,u)}},f=function(e,n,r,o,t){var c=e.$$instance,i=c.$p,d=c.$t,u=e.$$doRerender;e.$$doRerender=!1;var a=n.apply(void 0,[i,d,e].concat(t));return e.$$doRerender=u,c.$t=a,d!==a&&u&&$(e,c.$c(i,a,e),c,r,o),a},v=function(e,n,r,o){return function(){for(var t=arguments.length,c=Array(t),i=0;t>i;i++)c[i]=arguments[i];return f(e,n,r,o,c)}},p=function(e,n,r,o){var t={$$doRerender:!1,$$instance:o};for(var c in e)t[c]=v(t,e[c],n,r);return t},l=function(e,n,r,o){for(var t=0,c=void 0;r>t;)c=n[t++],d(e,c.$n=T(c),o)},s=function(e,n,r,o,t,c,u,a,$){for(var f={},v=a.$n,p=void 0,l=void 0,s=void 0,m=void 0;$>=u;)p=r[u++],p.prev=s,f[p.key]=s=p;for(;t>=o;)l=n[o++],s=f[l.key],s?(s===a&&(v=v.nextSibling),m=S(s.$n,l),s.$n=null):m=T(l),l.$n=m,d(e,m,v);for(;p;)(m=p.$n)&&(i(p.$s.recycled,m),e.removeChild(m)),p=p.prev},m=function(e,n,r,o,t,c,u,a,$,f,v,p){var l=void 0;if(a>f)for(;c>=o;)t=n[o++],d(e,t.$n=T(t),p);else if(o>c)for(;f>=a;)$=r[a++],i($.$s.recycled,l=$.$n),e.removeChild(l);else s(e,n,r,o,c,$,a,v,f)},y=function(e,n,r,o,t,c){var i=0,u=0,a=!0,$=n[0],f=o[0],v=c,p=void 0,l=void 0,s=void 0;e:for(;a&&t>=i&&r>=u;){for(a=!1;f.key===$.key;){if($.$n=S(f.$n,$),i++,u++,i>t||u>r)break e;f=o[i],$=n[u],a=!0}for(p=o[t],l=n[r];p.key===l.key;){if(l.$n=v=S(p.$n,l),t--,r--,i>t||u>r)break e;p=o[t],l=n[r],a=!0}for(;f.key===l.key;){if(l.$n=s=S(f.$n,l),p.key!==l.key&&(v=d(e,s,v)),i++,r--,i>t||u>r)break e;f=o[i],l=n[r],a=!0}for(;p.key===$.key;){if(d(e,$.$n=S(p.$n,$),f.$n),t--,u++,i>t||u>r)break e;p=o[t],$=n[u],a=!0}}(r>=u||t>=i)&&m(e,n,o,u,$,r,l,i,f,t,p,v)},x=function(e,n,r,o,t,c,i){var d=n.length,a=r.length;d?a?y(e,n,d-1,r,a-1,o):l(e,n,d,o):u(r,e)},k=function(e,n){for(var o=n.length,t=0,c=void 0;o>t;)c=n[t++],e.appendChild(c.$n=T(c));return e.appendChild(document.createTextNode(r))},h=function(e,n,o,t,c,i){return null==e?o.nodeValue=r:e.constructor===String||e.constructor===Number?o.nodeValue=e:b(e,n,o,t,c,i),e},b=function(e,n,r,o,t,i){return c(r,R(e,o,t,i)),e},g=function(e,n,r,o,t,c){return e&&a(e,n)?n:b(e,n,r,o,t,c)},C=function(e,n,r,o,t,c,i,d){var u=o.$a.onProps;o.$p=n,u?u():$(o.$a,o.$c(n,o,o.$a),o,c,d)},N=function(e,n,r,t,i,d,u,$){var f=e(n||o);if(!a(f,t)){var v=T(f);d[$]=f,d[u]=v,v.xvdom=d,c(i,v)}},j=function(e,n,r,o,t,c){var i=r.parentNode;return e instanceof Array?x(i,e,n,r):(u(n,i),b(e,void 0,r,o,t,c)),e},A=function(e,n,r,c,i,d){t.$p=n;var u=e.state,a=p(u,r,d,t),$=u.onInit(n||o,void 0,a);a.$$doRerender=!0;var f=e(n,$,a),v=T(f);return a.$$instance=f,f.$c=e,f.$t=$,f.$a=a,f.$p=n,r[c]=C,r[d]=f,r[i]=v,v},R=n.createDynamic=function(e,n,o,t){var c=void 0,i=void 0,d=void 0,u=void 0;return null==e||(u=e.constructor)===Boolean?(n[o]=b,n[t]=document.createTextNode(r)):(u===Object?(d=g,i=c=T(e)):u===String||u===Number?(d=h,i=c=document.createTextNode(e)):u===Array&&(d=j,c=document.createDocumentFragment(),i=k(c,e)),n[o]=d,n[t]=i,c)},D=n.createComponent=function(e,n,r,t,c,i){if(e.state)return A(e,n,r,t,c,i);var d=e(n||o),u=T(d);return r[t]=N,r[i]=d,r[c]=u,u},T=n.render=function(e){var n=e.$s,r=n.recycled&&n.recycled.pop();return r?(n.u(e,r.xvdom),e.$n=r,r):(e.$n=r=n.c(e),r.xvdom=e,r)},S=n.rerender=function(e,n){var r=e.xvdom;if(a(n,r))return e;var o=T(n);return c(e,o),i(r.$s.recycled,e),o},_=n.unmount=function(e){e.xvdom&&i(e.xvdom.$s.recycled,e),e.parentNode&&e.parentNode.removeChild(e)};n["default"]={createDynamic:R,createComponent:D,render:T,rerender:S,unmount:_};n._={renderArray:k,rerenderArray:j,rerenderText:h,rerenderInstance:g,rerenderDynamic:b}}])});
