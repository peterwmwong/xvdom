!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={$p:null},t=document.createComment(""),o=e.DEADPOOL={push:function(){},pop:function(){}},u=e.Pool=function(){var n=new Map;return{push:function(e){var r=e.key;e.$x=n.get(r),n.set(r,e)},pop:function(e){var r=n.get(e);return r?(n.set(e,r.$x),r):void 0}}},i=function(n){n.$s.r.push(n)},c=function(){return t.cloneNode(!1)},a=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},f=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},d=function(n,e){i(n),e.removeChild(n.$n)},$=function(n,e){for(var r=n.length,t=0;r>t;)d(n[t++],e)},p=function(n,e){for(var r=n.length,t=0;r>t;)i(n[t++]);e.textContent=""},l=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},v=function(n,e,r,t,o){if(!l(e,r)){var u=w(e),c=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=u,t[o]=e,n.$$instance=e,u.xvdom=t,a(c,u),i(e)}},s=function(n,e,r,t,o){var u=n.$$instance,i=u.$p,c=u.$t,a=n.$$doRerender;n.$$doRerender=!1;var f=e.apply(void 0,[i,c,n].concat(o));return n.$$doRerender=a,u.$t=f,c!==f&&a&&v(n,u.$c(i,f,n),u,r,t),f},m=function(n,e,r,t){return function(){for(var o=arguments.length,u=Array(o),i=0;o>i;i++)u[i]=arguments[i];return s(n,e,r,t,u)}},y=function(n,e,t){var o={$$doRerender:!1,$$instance:r};for(var u in n)o[u]=m(o,n[u],e,t);return o},x=function(n,e,r,t){for(var o=0;r>o;)f(n,(e[o]=_(e[o])).$n,t),++o},h=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=_(e[t])).$n),++t},k=function(n,e,r,t,o,u,i,c,a){for(var $=new Map,p=c.$n,l=void 0,v=void 0,s=void 0;a>=i;)l=r[i++],$.set(l.key,l);for(;o>=t;)s=e[t],v=s.key,l=$.get(v),l?(l===c&&(p=p.nextSibling),$["delete"](v),s=B(l,s)):s=_(s),e[t]=s,f(n,s.$n,p),++t;$.forEach(function(e){d(e,n)})},g=function(n,e,r,t,o,u,i,c,a,$,p,l){if(c>$)for(;u>=t;)o=e[t],f(n,(e[t]=_(o)).$n,l),++t;else if(t>u)for(;$>=c;)d(r[c++],n);else k(n,e,r,t,u,a,c,p,$)},b=function(n,e,r,t,o,u){var i=0,c=0,a=!0,d=r-1,$=o-1,p=0!==r&&e[0],l=0!==o&&t[0],v=u,s=void 0,m=void 0,y=void 0;n:for(;a&&$>=i&&d>=c;){for(a=!1;l.key===p.key;){if(e[c]=B(l,p),i++,c++,i>$||c>d)break n;l=t[i],p=e[c],a=!0}for(s=t[$],m=e[d];s.key===m.key;){if(v=(e[d]=B(s,m)).$n,$--,d--,i>$||c>d)break n;s=t[$],m=e[d],a=!0}for(;l.key===m.key;){if(y=(e[d]=B(l,m)).$n,s.key!==m.key&&(v=f(n,y,v)),i++,d--,i>$||c>d)break n;l=t[i],m=e[d],a=!0}for(;s.key===p.key;){if(f(n,(e[c]=B(s,p)).$n,l.$n),$--,c++,i>$||c>d)break n;s=t[$],p=e[c],a=!0}}(d>=c||$>=i)&&g(n,e,t,c,p,d,m,i,l,$,s,v)},C=function(n,e,r){var t=n.parentNode,o=e.length,u=r.length;o?u?b(t,e,o,r,u,n):x(t,e,o,n):$(r,t)},N=function(n,e,r){var t=e.length,o=r.length;t?o?b(n,e,t,r,o,null):h(n,e,t):p(r,n)},D=function(n,e,r,t,o,u,i){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:A(n,e,null,t,o,u,i),e},A=function(n,e,r,t,o,u,i){return a(t,M(n,t.parentNode,e,o,u,i)),e},O=function(n,e,r,t,o,u,i){return e&&l(e,r)?r:A(n,e,null,t,o,u,i)},P=function(n,e,r,t,o,u,i,c){var a=t.$a,f=a.onProps;t.$p=e,f?f():v(a,t.$c(e,t.$t,a),t,u,c)},j=function(n,e,r,t,o,u,i,c){var f=n(e||{});l(f,t)||a(o,u[i]=(u[c]=_(f)).$n)},R=function(n,e,r,t,o,u,i){return e instanceof Array?n?N(t,e,r):C(t,e,r):n?(p(r,t),t.appendChild(M(!0,t,e,o,u,i))):($(r,t.parentNode),A(!1,e,null,t,o,u,i)),e},E=function(n,e,t,o,u,i){r.$p=e;var c=n.state,a=y(c,t,i),f=c.onInit(e||{},void 0,a);a.$$doRerender=!0;var d=n(e,f,a),$=w(d);return a.$$instance=d,d.$c=n,d.$t=f,d.$a=a,d.$p=e,t[o]=P,t[i]=d,t[u]=$,$},M=e.createDynamic=function(n,e,r,t,o,u){var i=void 0,a=void 0,f=void 0,d=void 0;return null==r||(d=r.constructor)===Boolean?(f=A,a=i=c()):d===Object?(f=O,a=i=w(r)):d===String||d===Number?(f=D,a=i=document.createTextNode(r)):d===Array&&(i=document.createDocumentFragment(),h(i,r,r.length),f=R,a=n?e:i.appendChild(c())),t[o]=f,t[u]=a,i},S=e.createComponent=function(n,e,r,t,o,u){if(n.state)return E(n,e,r,t,o,u);var i=n(e||{}),c=w(i);return r[t]=j,r[u]=i,r[o]=c,c},_=function(n){var e=n.$s,r=e.r.pop(n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},w=e.render=function(n){return _(n).$n},B=function(n,e){return l(e,n)?n:(e=_(e),a(n.$n,e.$n),i(n),e)},I=e.rerender=function(n,e){return B(n.xvdom,e).$n},L=e.unmount=function(n){d(n.xvdom,n.parentNode)};e["default"]={createDynamic:M,createComponent:S,render:w,rerender:I,unmount:L,Pool:u,DEADPOOL:o};e._={rerenderText:D,rerenderInstance:O,rerenderDynamic:A,rerenderArray:R}}])});
