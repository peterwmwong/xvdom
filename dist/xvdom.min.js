!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xvdom=t():n.xvdom=t()}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(n,t){"use strict";function e(n){return n instanceof Object?n instanceof Array?"array":"object":I(n)?"empty":"text"}function r(){}function o(){this.map=new r}function u(n,t){T(n),t.removeChild(n.$n)}function c(n,t,e){for(;e<n.length;)u(n[e++],t)}function i(n,t){for(var e=0;e<n.length;)T(n[e++]);t.textContent=""}function a(n,t){return n.$s===t.$s&&(t.$s.u(t,n),!0)}function f(n,t,e,r){null==r?d(n,t,e):p(n,t,e,r)}function p(n,t,e,r){for(;e<t.length;)n.insertBefore((t[e]=P(t[e])).$n,r),++e}function d(n,t,e){for(;e<t.length;)n.appendChild((t[e]=P(t[e])).$n),++e}function s(n,t,e,r,o,u){var i=0,a=0;do t[a]=E(r[i],t[a]),++a,++i;while(i<o&&a<e);a<e?f(n,t,a,u):c(r,n,i)}function v(n,t,e){var r=n.parentNode,o=t.length,u=e.length;o?u?s(r,t,o,e,u,n):f(r,t,0,n):c(e,r,0)}function l(n,t,e){var r=t.length,o=e.length;r?o?s(n,t,r,e,o,null):d(n,t,0):i(e,n)}function m(n,t,e){var r=w(n,e.parentNode,t);return M(e,r),r}function x(n,t,e){return n instanceof Object?m(e,n,t):(t.nodeValue=I(n)?"":n,t)}function h(n,t,e,r){var o=void 0;return n&&a(o=r.$r||r,n)?(n.$r=o,t):m(e,n,t)}function y(n,t,e,r){var o=t.xvdomContext;return n instanceof Array?(e?l(o,n,r):v(o,n,r),t):e?(i(r,o),o.appendChild(w(!0,o,n))):(c(r,o.parentNode,0),m(!1,n,o))}function $(n,t,e,r){var o=r.props;r.props=e,t.onProps?g(n,r,t.onProps,o):b(n,r)}function C(n,t,e){var r=document.createDocumentFragment();return d(r,n,0),r.xvdomContext=e?t:r.appendChild(B("")),r}function b(n,t){var e=E(t._instance,n(t));t._instance=e,e.$n.xvdom=t._parentInst}function g(n,t,e,r){if(e){var o=e(t,r);o!==t.state&&(t.state=o,b(n,t))}}function j(n,t,e,o){var u=new r,c={props:t,bindSend:function(t){return u[t]||(u[t]=function(e){g(n,c,o[t],e)})},_parentInst:e};return c.state=o.onInit(c),c.$n=N(c._instance=n(c)),c}function D(n,t){var e=n(t);return N(e),e}function _(n,t,e,r){var o=(t?j:D)(n,e||k,r,t);return o}function O(n,t,e,r){var o=void 0;return t?($(n,t,e,r),o=r):o=E(r,n(e)),o}function N(n){var t=n.$s.c(n);return n.$n=t,t.xvdom=n,t}function P(n){var t=n.$s,e=t.r.pop(n.key);return e?(t.u(n,e),e):(N(n),n)}function w(n,t,r){return S[e(r)](r,t,n)}function A(n,t,r,o){return V[e(t)](r,o,n,t)}function E(n,t){return a(n,t)?n:(M(n.$n,(t=P(t)).$n),T(n),t)}t.__esModule=!0,t.createComponent=_;var I=function(n){return null==n||n===!0||n===!1};r.prototype=Object.create(null);var k=new r,L=t.DEADPOOL={push:function(){},pop:function(){}};o.prototype.push=function(n){var t=n.key,e=this.map;n.$x=e[t],e[t]=n},o.prototype.pop=function(n){var t=this.map[n];if(t)return this.map[n]=t.$x,t};var T=function(n){n.$s.r.push(n)},B=function(n){return document.createTextNode(n)},F=function(){return B("")},M=function(n,t){var e=n.parentNode;e&&e.replaceChild(t,n)},S={text:B,object:N,array:C,empty:F},V={text:x,object:h,array:y,empty:x},q=t.render=function(n){return P(n).$n},z=t.rerender=function(n,t){return E(n.xvdom,t).$n},G=t.unmount=function(n){u(n.xvdom,n.parentNode)};t.default={createComponent:_,createDynamic:w,el:function(n){return document.createElement(n)},render:q,rerender:z,unmount:G,updateComponent:O,updateDynamic:A,Pool:o,DEADPOOL:L};t._={rerenderText:x,rerenderDynamic:m}}])});
