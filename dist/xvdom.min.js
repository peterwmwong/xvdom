!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";e.__esModule=!0;var r={$p:null},t=document.createComment(""),o=e.DEADPOOL={push:function(){},pop:function(){}},u=e.Pool=function(){var n=new Map;return{push:function(e){var r=e.key;e.$x=n.get(r),n.set(r,e)},pop:function(e){var r=n.get(e);return r?(n.set(e,r.$x),r):void 0}}},i=function(n){n.$s.r.push(n)},c=function(){return t.cloneNode(!1)},f=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},a=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},d=function(n,e){i(n),e.removeChild(n.$n)},$=function(n,e){for(var r=n.length,t=0;r>t;)d(n[t++],e)},p=function(n,e){for(var r=n.length,t=0;r>t;)i(n[t++]);e.textContent=""},l=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},v=function(n,e,r,t,o){if(!l(e,r)){var u=w(e),c=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=u,t[o]=e,n.$$instance=e,u.xvdom=t,f(c,u),i(e)}},s=function(n,e,r,t,o){var u=n.$$instance,i=n.$$doRerender,c=u.$p,f=u.$t;n.$$doRerender=!1;var a=u.$t=e.apply(void 0,[c,f,n].concat(o));return n.$$doRerender=i,f!==a&&i&&v(n,u.$c(c,a,n),u,r,t),a},m=function(n,e,r,t){return function(){for(var o=arguments.length,u=Array(o),i=0;o>i;i++)u[i]=arguments[i];return s(n,e,r,t,u)}},y=function(n,e,t){var o={$$doRerender:!1,$$instance:r};for(var u in n)o[u]=m(o,n[u],e,t);return o},x=function(n,e,r,t){for(var o=0;r>o;)a(n,(e[o]=_(e[o])).$n,t),++o},h=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=_(e[t])).$n),++t},k=function(n,e,r,t,o,u,i,c,f){for(var $=new Map,p=c.$n,l=void 0,v=void 0,s=void 0;f>=i;)l=r[i++],$.set(l.key,l);for(;o>=t;)s=e[t],v=s.key,l=$.get(v),l?(l===c&&(p=p.nextSibling),$["delete"](v),s=B(l,s)):s=_(s),e[t]=s,a(n,s.$n,p),++t;$.forEach(function(e){d(e,n)})},g=function(n,e,r,t,o,u,i,c,f,$,p,l){if(c>$)for(;u>=t;)o=e[t],a(n,(e[t]=_(o)).$n,l),++t;else if(t>u)for(;$>=c;)d(r[c++],n);else k(n,e,r,t,u,f,c,p,$)},b=function(n,e,r,t,o,u){var i=0,c=0,f=!0,d=e[0],$=t[0],p=u,l=void 0,v=void 0,s=void 0;r--,o--;n:for(;f&&o>=i&&r>=c;){for(f=!1;$.key===d.key;){if(e[c]=B($,d),i++,c++,i>o||c>r)break n;$=t[i],d=e[c],f=!0}for(l=t[o],v=e[r];l.key===v.key;){if(p=(e[r]=B(l,v)).$n,o--,r--,i>o||c>r)break n;l=t[o],v=e[r],f=!0}for(;$.key===v.key;){if(s=(e[r]=B($,v)).$n,l.key!==v.key&&(p=a(n,s,p)),i++,r--,i>o||c>r)break n;$=t[i],v=e[r],f=!0}for(;l.key===d.key;){if(a(n,(e[c]=B(l,d)).$n,$.$n),o--,c++,i>o||c>r)break n;l=t[o],d=e[c],f=!0}}(r>=c||o>=i)&&g(n,e,t,c,d,r,v,i,$,o,l,p)},C=function(n,e,r){var t=n.parentNode,o=e.length,u=r.length;o?u?b(t,e,o,r,u,n):x(t,e,o,n):$(r,t)},N=function(n,e,r){var t=e.length,o=r.length;t?o?b(n,e,t,r,o,null):h(n,e,t):p(r,n)},D=function(n,e,r,t,o,u,i){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:A(n,e,null,t,o,u,i),e},A=function(n,e,r,t,o,u,i){return f(t,M(n,t.parentNode,e,o,u,i)),e},O=function(n,e,r,t,o,u,i){return e&&l(e,r)?r:A(n,e,null,t,o,u,i)},P=function(n,e,r,t,o,u,i,c){var f=t.$a,a=f.onProps;t.$p=e,a?a():v(f,t.$c(e,t.$t,f),t,u,c)},R=function(n,e,r,t,o,u,i,c){var a=n(e||{});l(a,t)||f(o,u[i]=(u[c]=_(a)).$n)},j=function(n,e,r,t,o,u,i){return e instanceof Array?n?N(t,e,r):C(t,e,r):n?(p(r,t),t.appendChild(M(!0,t,e,o,u,i))):($(r,t.parentNode),A(!1,e,null,t,o,u,i)),e},E=function(n,e,t,o,u,i){r.$p=e;var c=n.state,f=y(c,t,i),a=c.onInit(e||{},void 0,f);f.$$doRerender=!0;var d=n(e,a,f),$=w(d);return f.$$instance=d,d.$c=n,d.$t=a,d.$a=f,d.$p=e,t[o]=P,t[i]=d,t[u]=$,$},M=e.createDynamic=function(n,e,r,t,o,u){var i=void 0,f=void 0,a=void 0,d=void 0;return null==r||(d=r.constructor)===Boolean?(a=A,f=i=c()):d===Object?(a=O,f=i=w(r)):d===String||d===Number?(a=D,f=i=document.createTextNode(r)):d===Array&&(i=document.createDocumentFragment(),h(i,r,r.length),a=j,f=n?e:i.appendChild(c())),t[o]=a,t[u]=f,i},S=e.createComponent=function(n,e,r,t,o,u){if(n.state)return E(n,e,r,t,o,u);var i=n(e||{}),c=w(i);return r[t]=R,r[u]=i,r[o]=c,c},_=function(n){var e=n.$s,r=e.r.pop(n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},w=e.render=function(n){return _(n).$n},B=function(n,e){return l(e,n)?n:(e=_(e),f(n.$n,e.$n),i(n),e)},I=e.rerender=function(n,e){return B(n.xvdom,e).$n},L=e.unmount=function(n){d(n.xvdom,n.parentNode)};e["default"]={createDynamic:M,createComponent:S,render:w,rerender:I,unmount:L,Pool:u,DEADPOOL:o};e._={rerenderText:D,rerenderInstance:O,rerenderDynamic:A,rerenderArray:j}}])});
