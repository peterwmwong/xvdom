!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t={};return e.m=n,e.c=t,e.p="",e(0)}([function(n,e,t){n.exports=t(1)},function(n,e){"use strict";function t(){}function r(){this.map=new t}function o(n,e,r,o){var i=this,u=new t;this._actions=r,this._component=n,this._parentInst=o,this.props=e,this.state=r.onInit(this),this._node=B(this._instance=n(this)),this.bindSend=function(n){return u[n]||(u[n]=function(e){P(i,n,e)})}}e.__esModule=!0,t.prototype=Object.create(null);var i=new t,u=document.createComment(""),c=e.DEADPOOL={push:function(){},pop:function(){}};r.prototype.push=function(n){var e=n.key,t=this.map;n.$x=t[e],t[e]=n},r.prototype.pop=function(n){var e=this.map[n];if(e)return this.map[n]=e.$x,e};var a=function(n){n.$s.r.push(n)},f=function(){return u.cloneNode(!1)},p=function(n,e){var t=n.parentNode;t&&t.replaceChild(e,n)},s=function(n,e,t){return t?n.insertBefore(e,t):n.appendChild(e)},d=function(n,e){a(n),e.removeChild(n.$n)},l=function(n,e){for(var t=n.length,r=0;t>r;)d(n[r++],e)},v=function(n,e){for(var t=n.length,r=0;t>r;)a(n[r++]);e.textContent=""},m=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},h=function(n,e,t,r){for(var o=0;t>o;)s(n,(e[o]=L(e[o])).$n,r),++o},y=function(n,e,t){for(var r=0;t>r;)n.appendChild((e[r]=L(e[r])).$n),++r},$=function(n,e,t,r,o,i,u,c,a){for(var f=new Map,p=c.$n,l=void 0,v=void 0,m=void 0;a>=u;)l=t[u++],f.set(l.key,l);for(;o>=r;)m=e[r],v=m.key,l=f.get(v),l?(l===c&&(p=p.nextSibling),f["delete"](v),m=T(l,m)):m=L(m),e[r]=m,s(n,m.$n,p),++r;f.forEach(function(e){d(e,n)})},x=function(n,e,t,r,o,i,u,c,a,f,p,l){if(c>f)for(;i>=r;)o=e[r],s(n,(e[r]=L(o)).$n,l),++r;else if(r>i)for(;f>=c;)d(t[c++],n);else $(n,e,t,r,i,a,c,p,f)},k=function(n,e,t,r,o,i){var u=0,c=0,a=!0,f=e[0],p=r[0],d=i,l=void 0,v=void 0,m=void 0;t--,o--;n:for(;a&&o>=u&&t>=c;){for(a=!1;p.key===f.key;){if(e[c]=T(p,f),u++,c++,u>o||c>t)break n;p=r[u],f=e[c],a=!0}for(l=r[o],v=e[t];l.key===v.key;){if(d=(e[t]=T(l,v)).$n,o--,t--,u>o||c>t)break n;l=r[o],v=e[t],a=!0}for(;p.key===v.key;){if(m=(e[t]=T(p,v)).$n,l.key!==v.key&&(d=s(n,m,d)),u++,t--,u>o||c>t)break n;p=r[u],v=e[t],a=!0}for(;l.key===f.key;){if(s(n,(e[c]=T(l,f)).$n,p.$n),o--,c++,u>o||c>t)break n;l=r[o],f=e[c],a=!0}}(t>=c||o>=u)&&x(n,e,r,c,f,t,v,u,p,o,l,d)},_=function(n,e,t){var r=n.parentNode,o=e.length,i=t.length;o?i?k(r,e,o,t,i,n):h(r,e,o,n):l(t,r)},b=function(n,e,t){var r=e.length,o=t.length;r?o?k(n,e,r,t,o,null):y(n,e,r):v(t,n)},g=function(n,e,t,r,o,i,u){return null==e?r.nodeValue="":e.constructor===String||e.constructor===Number?r.nodeValue=e:C(n,e,null,r,o,i,u),e},C=function(n,e,t,r,o,i,u){return p(r,w(n,r.parentNode,e,o,i,u)),e},N=function(n,e,t,r,o,i,u){return e&&m(e,t)?t:C(n,e,null,r,o,i,u)},D=function(n,e,t,r,o,u,c,a){var f=n({props:e||i});m(f,r)||p(o,u[c]=(u[a]=L(f)).$n)},O=function(n,e,t,r,o,i,u){return e instanceof Array?n?b(r,e,t):_(r,e,t):n?(v(t,r),r.appendChild(w(!0,r,e,o,i,u))):(l(t,r.parentNode),C(!1,e,null,r,o,i,u)),e},j=function(n,e,t,r){var o=r._actions.onProps,i=r.props;r.props=e,o?P(r,"onProps",i):A(r)},w=e.createDynamic=function(n,e,t,r,o,i){var u=void 0,c=void 0,a=void 0,p=void 0;return null==t||(p=t.constructor)===Boolean?(a=C,c=u=f()):p===Object?(a=N,c=u=B(t)):p===String||p===Number?(a=g,c=u=document.createTextNode(t)):p===Array&&(u=document.createDocumentFragment(),y(u,t,t.length),a=O,c=n?e:u.appendChild(f())),r[o]=a,r[i]=c,u},A=function(n){var e=n._component,t=n._parentInst,r=T(n._instance,e(n));n._instance=r,r.$n.xvdom=t},P=function(n,e,t){var r=n._actions[e];if(r){var o=r(n,t);o!==n.state&&(n.state=o,A(n))}},S=function(n,e,t,r,i,u,c){var a=new o(n,t,e,r,c);return r[i]=j,r[c]=a,r[u]=a._node},I=e.createNoStateComponent=function(n,e,t,r,o,i,u){var c=n({props:t}),a=B(c);return r[o]=D,r[u]=c,r[i]=a},E=e.createComponent=function(n,e,t,r,o,u,c){var a=e?S:I;return a(n,e,t||i,r,o,u,c)},B=function(n){var e=n.$s.c(n);return n.$n=e,e.xvdom=n,e},L=function(n){var e=n.$s,t=e.r.pop(n.key);return t?(e.u(n,t),t):(B(n),n)},M=e.render=function(n){return L(n).$n},T=function(n,e){return m(e,n)?n:(e=L(e),p(n.$n,e.$n),a(n),e)},V=e.rerender=function(n,e){return T(n.xvdom,e).$n},F=e.unmount=function(n){d(n.xvdom,n.parentNode)};e["default"]={createDynamic:w,createComponent:E,render:M,rerender:V,unmount:F,Pool:r,DEADPOOL:c};e._={rerenderText:g,rerenderInstance:N,rerenderDynamic:C,rerenderArray:O}}])});
