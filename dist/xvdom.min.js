!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xvdom=e():n.xvdom=e()}(this,function(){return function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return n[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=n,e.c=r,e.p="",e(0)}([function(n,e,r){n.exports=r(1)},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},t={$p:null},o=document.createComment(""),i=function(){return o.cloneNode(!1)},u=function(n,e){var r=n.parentNode;r&&r.replaceChild(e,n)},a=function(n){var e=n.$s.r;if(e){var r=n.key,t=e[r];t?t.push(n):e[r]=[n]}},c=function(n,e){var r=n.r;if(r){var t=r[e];return t&&t.pop()}},d=function(n,e,r){return r?n.insertBefore(e,r):n.appendChild(e)},f=function(n,e){for(var r=n.length,t=0,o=void 0;r>t;)o=n[t++],a(o),e.removeChild(o.$n)},$=function(n,e){for(var r=n.length,t=0;r>t;)a(n[t++]);e.textContent=""},v=function(n,e){return e.$s===n.$s&&(n.$s.u(n,e),!0)},l=function(n,e,r,t,o){if(!v(e,r)){var i=P(e),c=t.$n;e.$c=r.$c,e.$t=r.$t,e.$p=r.$p,e.$a=n,t.$n=i,t[o]=e,n.$$instance=e,i.xvdom=t,u(c,i),a(e)}},p=function(n,e,r,t,o){var i=n.$$instance,u=i.$p,a=i.$t,c=n.$$doRerender;n.$$doRerender=!1;var d=e.apply(void 0,[u,a,n].concat(o));return n.$$doRerender=c,i.$t=d,a!==d&&c&&l(n,i.$c(u,d,n),i,r,t),d},s=function(n,e,r,t){return function(){for(var o=arguments.length,i=Array(o),u=0;o>u;u++)i[u]=arguments[u];return p(n,e,r,t,i)}},m=function(n,e,r,t){var o={$$doRerender:!1,$$instance:t};for(var i in n)o[i]=s(o,n[i],e,r);return o},y=function(n,e,r,t){for(var o=0;r>o;)d(n,(e[o]=O(e[o])).$n,t),++o},x=function(n,e,r){for(var t=0;r>t;)n.appendChild((e[t]=O(e[t])).$n),++t},h=function(n,e,r,t,o,i,u,c,f){for(var $={},v=c.$n,l=void 0,p=void 0,s=void 0,m=void 0;f>=u;)l=r[u++],$[l.key]=l;for(;o>=t;)m=e[t],p=m.key,l=$[p],l?(l===c&&(v=v.nextSibling),$[p]=null,s=(e[t]=T(l,m)).$n):s=P(m),d(n,s,v),++t;for(p in $)l=$[p],l&&(a(l),n.removeChild(l.$n))},k=function(n,e,r,t,o,i,u,c,f,$,v,l){if(c>$)for(;i>=t;)o=e[t],d(n,(e[t]=O(o)).$n,l),++t;else if(t>i)for(;$>=c;)f=r[c++],a(f),n.removeChild(f.$n);else h(n,e,r,t,i,f,c,v,$)},g=function(n,e,r,t,o,i){var u=0,a=0,c=!0,f=r-1,$=o-1,v=0!==r&&e[0],l=0!==o&&t[0],p=i,s=void 0,m=void 0,y=void 0;n:for(;c&&$>=u&&f>=a;){for(c=!1;l.key===v.key;){if(e[a]=T(l,v),u++,a++,u>$||a>f)break n;l=t[u],v=e[a],c=!0}for(s=t[$],m=e[f];s.key===m.key;){if(p=(e[f]=T(s,m)).$n,$--,f--,u>$||a>f)break n;s=t[$],m=e[f],c=!0}for(;l.key===m.key;){if(y=(e[f]=T(l,m)).$n,s.key!==m.key&&(p=d(n,y,p)),u++,f--,u>$||a>f)break n;l=t[u],m=e[f],c=!0}for(;s.key===v.key;){if(d(n,(e[a]=T(s,v)).$n,l.$n),$--,a++,u>$||a>f)break n;s=t[$],v=e[a],c=!0}}(f>=a||$>=u)&&k(n,e,t,a,v,f,m,u,l,$,s,p)},C=function(n,e,r,t){var o=e.length,i=r.length;o?i?g(n,e,o,r,i,t):y(n,e,o,t):f(r,n)},b=function(n,e,r){var t=e.length,o=r.length;t?o?g(n,e,t,r,o,null):x(n,e,t):$(r,n)},N=function(n,e,r,t,o,i,u){return null==e?t.nodeValue="":e.constructor===String||e.constructor===Number?t.nodeValue=e:j(n,e,null,t,o,i,u),e},j=function(n,e,r,t,o,i,a){return u(t,B(n,t.parentNode,e,o,i,a)),e},R=function(n,e,r,t,o,i,u){return e&&v(e,r)?r:j(n,e,null,t,o,i,u)},A=function(n,e,r,t,o,i,u,a){var c=t.$a.onProps;t.$p=e,c?c():l(t.$a,t.$c(e,t,t.$a),t,i,a)},D=function(n,e,t,o,i,a,c,d){var f=n(e||r);if(!v(f,o)){var $=P(f);a[d]=f,a[c]=$,$.xvdom=a,u(i,$)}},S=function(n,e,r,t,o,i,u){return e instanceof Array?n?b(t,e,r):C(t.parentNode,e,r,t):n?($(r,t),t.appendChild(B(!0,t,e,o,i,u))):(f(r,t.parentNode),j(!1,e,null,t,o,i,u)),e},_=function(n,e,o,i,u,a){t.$p=e;var c=n.state,d=m(c,o,a,t),f=c.onInit(e||r,void 0,d);d.$$doRerender=!0;var $=n(e,f,d),v=P($);return d.$$instance=$,$.$c=n,$.$t=f,$.$a=d,$.$p=e,o[i]=A,o[a]=$,o[u]=v,v},B=e.createDynamic=function(n,e,r,t,o,u){var a=void 0,c=void 0,d=void 0,f=void 0;return null==r||(f=r.constructor)===Boolean?(d=j,c=a=i()):f===Object?(d=R,c=a=P(r)):f===String||f===Number?(d=N,c=a=document.createTextNode(r)):f===Array&&(a=document.createDocumentFragment(),x(a,r,r.length),d=S,c=n?e:a.appendChild(i())),t[o]=d,t[u]=c,a},I=e.createComponent=function(n,e,t,o,i,u){if(n.state)return _(n,e,t,o,i,u);var a=n(e||r),c=P(a);return t[o]=D,t[u]=a,t[i]=c,c},O=function(n){var e=n.$s,r=c(e,n.key);return r?(e.u(n,r),r):((n.$n=e.c(n)).xvdom=n,n)},P=e.render=function(n){return O(n).$n},T=function(n,e){return v(e,n)?n:(e=O(e),u(n.$n,e.$n),a(n),e)},V=e.rerender=function(n,e){return T(n.xvdom,e).$n},F=e.unmount=function(n){n.xvdom&&a(n.xvdom),n.parentNode&&n.parentNode.removeChild(n)};e["default"]={createDynamic:B,createComponent:I,render:P,rerender:V,unmount:F};e._={rerenderText:N,rerenderInstance:R,rerenderDynamic:j,rerenderArray:S}}])});
